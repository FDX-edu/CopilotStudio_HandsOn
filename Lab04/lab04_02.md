# 작업(Action)

생성 모드를 켜면 에이전트가 런타임에 사용자에게 응답하기 위해 가장 적합한 작업이나 토픽을 자동으로 선택할 수 있습니다. 클래식 모드에서 에이전트는 토픽만 사용하여 사용자에게 응답할 수 있습니다. 그러나 토픽 내에서 명시적으로 작업을 호출하도록 에이전트를 설계할 수도 있습니다.

작업은 다음 핵심 작업 유형 중 하나를 기반으로 합니다.
- 사전 빌드된 커넥터 작업
- 사용자 지정 커넥터 작업
- Power Automate 클라우드 흐름
- AI Builder 프롬프트
- Bot Framework 기술

각 핵심 작업에는 목적을 설명하는 추가 정보가 있어 에이전트가 생성 AI를 사용하여 질문을 생성할 수 있습니다. 이러한 질문은 작업을 수행하는 데 필요한 입력을 채우는 데 필요합니다. 따라서 흐름의 입력과 같이 필요한 모든 입력을 수집하기 위해 질문 노드를 수동으로 작성할 필요가 없습니다. 입력은 런타임 중에 처리됩니다.

작업은 작업 결과를 사용하여 사용자의 쿼리에 대한 상황적 응답을 생성할 수 있습니다. 또는 작업에 대한 응답을 명시적으로 작성할 수 있습니다.


## 작업 1: 작업 만들기

1. 탐색에서 **작업**(Actions) 탭으로 이동하여 **작업 추가**(Add an action)를 선택합니다.
   
    ![image](https://github.com/user-attachments/assets/2ec99e72-19c5-41f4-8cbf-974ce9d76e1f)

2. **오늘 예보 가져오기**(Get forecast for today) 커넥터를 선택합니다. </br> **오늘 예보 가져오기**가 보이지 않으면 **라이브러리**를 먼저 선택합니다.

   ![image](https://github.com/user-attachments/assets/b2060873-f3e5-42c8-ba0c-2bf017f8117c)

3. **연결이 자동으로 생성**(오늘의 예보 가져오기)될 때까지 기다립니다.

    ![image](https://github.com/user-attachments/assets/43b129db-afb8-4559-99da-871a6dcb46d5)

4. 최종 사용자 인증에서 **Copilot 작성자 인증**( Copilot author authentication)을 선택합니다. 이렇게 하면 에이전트가 날씨 커넥터를 사용할 때 최종 사용자 연결을 사용하지 않고도 작업할 수 있습니다. 대신 제작자가 설정한 연결이 사용됩니다. 해당 화면의 다른 속성은 그대로 둡니다.

   ![image](https://github.com/user-attachments/assets/bf612fc5-1c0b-435f-9956-31f6e6b95958)


5. **입력 및 출력**을 선택합니다.

    ![image](https://github.com/user-attachments/assets/e8cb70d7-7526-4f53-a07c-4e2dfdc5d402)

6. 위치(Location) 속성은 그대로 두고 **단위(Units)** 속성의 경우 에이전트가 이 입력을 어떻게 채울까요?에서 **값으로 설정**을 선택합니다.

    ![image](https://github.com/user-attachments/assets/504bae11-89cd-443f-bec9-28896618ad90)

7. **Metric**을 선택합니다.

    ![image](https://github.com/user-attachments/assets/c06f8fce-54fd-4b8f-ac0a-07c42a0e3fb5)

8. **작업 추가**를 클릭합니다.

    ![image](https://github.com/user-attachments/assets/96477229-6ebd-4d13-b966-a44993c61181)




## 작업 2: 작업 테스트

1. 테스트 창으로 이동합니다.

2. 질문하기
   
   ```
   날씨는 어때요?
   ```

3. 테스트 창에서 대화 맵을 클릭하여 에이전트가 질문과 답변 프롬프트를 어떻게 해석하는지 확인합니다.

    ![image](https://github.com/user-attachments/assets/f46e7b55-9201-48ef-abac-767b14479799)

4. 도시로 답변

   ```
   시카고
   ```

5. 에이전트가 자동으로 입력을 도시로 업데이트하고 답변을 제공하는지 확인합니다.

    ![image](https://github.com/user-attachments/assets/5901896c-848e-49e2-9c85-5bbacb033dd8)


6. 봇에게 실수했다고 말하고 쿼리를 변경합니다.

   ```
   잠깐, 런던의 날씨를 알고 싶어요. 또한 모든 정보를 요점으로 나열해 주세요.
   ```

   
   ![image](https://github.com/user-attachments/assets/5ce058bc-9086-405c-8994-ca309555d369)


7. 에이전트가 커넥터에 대한 쿼리를 어떻게 업데이트하고 사용 가능한 모든 정보를 나열하라는 지침에 어떻게 반응하는지 확인합니다.



    참고: 에이전트가 영어로 진행하게되는 경우, 한글로 답해달라고 하거나 아래와 같이 설정하여 줍니다.
    ![image](https://github.com/user-attachments/assets/a98c804e-86f5-4180-a3bf-78c30aabb225)











